<% content_for :head do %>
    <%= stylesheet_link_tag 'galleria' %>
    <%= javascript_include_tag 'galleria' %>
<% end %>

<% content_for :album_title do %>
  <%= album.title %>
<% end %>

<% content_for :album_description do %>
  <%= album.description %>
<% end %>

<div class="container-fluid">
  <div class="row">
    <div class="galleria-surround">
      <div class="galleria">
        <% photos.each do |photo| %>
            <img src='/<%= photo.app_path %>' data-title="<strong><%= photo.title %></strong>" data-description="<%= photo.description %>">
        <% end %>
      </div>
    </div>
  </div>
</div>

<script>
  adjustGallerySize();
  Galleria.loadTheme('<%= javascript_path "galleria/themes/azur/galleria.azur.min" %>');
  Galleria.run('.galleria', {
    imageTimeout: 960000,
    debug: false,
    imageCrop: 'height',
    dummy: '<%= image_path("silhouette_unknown.png") %>',
    lightbox: true,
    fullscreenDoubleTap: false,
    thumbnails: 'lazy',
    extend: function () {
      this.lazyLoadChunks(10);
      this.setPlaytime(3000);
      this.attachKeyboard({
        left: this.prev,
        right: this.next
      });
    }
  });
  $(window).resize(function () {
    adjustGallerySize()
  })
</script>
